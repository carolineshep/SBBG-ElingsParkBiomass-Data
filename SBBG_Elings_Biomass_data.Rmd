---
title: "SBBG Elings Park Analysis"
author: "Caroline Shepherd"
date: "2024-02-27"
output: 
  html_document:
    theme: cerulean
    code_folding: hide
    highlight: monochrome
    toc: yes
    toc_depth: 5
    toc_float: yes
    collapsed: yes
    smooth_scroll: yes
    number_sections: no
editor_options:
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

```{r}
# read in packages

library(janitor)
library(tidyverse)
library(here)
library(dplyr)

```

## Introduction:

This code aims to synthesize and visualize data collected on Biomass (kg/m2) and Mortality of plants in the Elings Park Restoration Project. The Santa Barbara Botanic Garden, in partnership with Channel Islands Restoration, is transforming a 1-acre plot of land previously full of invasive weeds, into a better-functioning native habitat.

In this analysis, we explore the relationship between different weed treatments (sheet mulching and plastic tarping) and plant mortality and growth. 

```{r}
# read in the data

elings_data <- read.csv(here("ElingsMonitoringData.csv")) %>% clean_names()

# group by plot and sum biomass 

biomass_plot <- elings_data %>% 
  group_by(plot_id) %>% 
  summarise(biomass_sum = sum(biomass_kg_m2))

# group by plot and sum mortality
# I double checked and this is correctly summing # of alive plants

mort_plot <- elings_data %>% 
  group_by(plot_id) %>% 
  summarise(mort_sum = sum(mort_status, na.rm = TRUE))

# group by treatment and sum biomass

biomass_treatment <- elings_data %>% 
  group_by(treatment) %>% 
  summarise(biomass_sum = sum(biomass_kg_m2))

# group by treatment and sum mortality

mort_treatment <- elings_data %>% 
  group_by(treatment) %>% 
  summarise(mort_sum = sum(mort_status, na.rm = TRUE))

```


### Data exploration! 

Looking at trends in mortality and biomass based on plot and treatment.
```{r}

# explore the data! look at trends!

#graphing biomass by plot
ggplot(data = biomass_plot, aes(x = plot_id, y = biomass_sum)) +
  geom_col() +
  theme_bw()

# graphing biomass by treatment
ggplot(data = biomass_treatment, aes(x = treatment, y = biomass_sum)) +
  geom_col() +
  theme_bw()

# graphing mortality by plot
ggplot(mort_plot, aes(x = plot_id, y = mort_sum)) +
  geom_col() +
  theme_bw()

# graphing mortality by treatment
ggplot(data = mort_treatment, aes(x = treatment, y = mort_sum)) +
  geom_col() +
  theme_bw()


# would like to look at PERCENT plants alive in next analysis
# I also want to look at average biomass per plant per plot
# and average biomass per species per treatment


```


Continued analysis
```{r}

#calculating % plants alive in each plot
tarp_filt <- elings_data %>% 
  filter(treatment == "tarp")

tarp_perc <- sum()
  

```



## Future plans

Future analysis will include:

- looking at percent of plants alive in each plot and treatment

- analyzing average biomass per plant per plot

- average biomass per species per treatment

To answer these questions:
Do tarped plots or mulched plots promote more growth?
Which treatment has the lowest mortality rate?
Which species performed the best (in terms of growth and survival) in each plot and each treatment? Is one treatment better for some plants, while the other treatment is better for other plants?
